<div class="my-account sec-padding">
  <div class="container">
    <mat-card fxLayout="row" fxLayout.lt-sm="column" fxLayoutAlign="start start" class="p-0">
      <div class="my-account-wrap p-0" fxLayout="row" fxLayout.lt-sm="column" fxLayoutAlign="center">
        <div class="register-wrapper pr-15" fxFlex="100" fxFlex.gt-md="50" fxFlex.md="50">
          <div class="alert-success" *ngIf='success==true'>
            Se Actualió la contraseña con exito!.
            <button type="button" class="alert-close" aria-label="Close"><span aria-hidden="true">×</span></button>
          </div>
          <div class="alert-fail" *ngIf='success==false'>
            La actualización de la contraseña ha sido fallido!. Verifique sus datos y vuelva a intentarlo.
            <button type="button" class="alert-close" aria-label="Close"><span aria-hidden="true">×</span></button>
          </div>
          <div class="title">
            <h3>Recuperar Contraseña</h3>
          </div>
          <div class="register-body">
            <form fxLayout="row wrap" [formGroup]="resetGroup" (ngSubmit)="reset()"
              (keydown)="keyDownFunction($event)">
              <div fxFlex="100" fxFlex.gt-sm="100" class="px-1" ngClass.sm="mt-1" ngClass.xs="mt-1">
                <mat-form-field class="w-100">
                  <input matInput placeholder="Email" name="email" formControlName="email" required />
                  <mat-error *ngIf="resetGroup.controls.email.hasError('required')">El Email es obligatorio
                  </mat-error>
                  <mat-error *ngIf="resetGroup.controls.email.hasError('email')">Ingrese un Email válido</mat-error>
                </mat-form-field>
              </div>
              <!--///////////////////////////////////////////////////////////////////////////////////-->
              <!--///////////////////////////////////////////////////////////////////////////////////-->
              <!--///////////////////////////////////////////////////////////////////////////////////-->
              <div fxFlex>
                <!--password input filed-->
                <mat-form-field style="width: 100%;" [color]="color">
                  <mat-label>Contraseña</mat-label>
                  <mat-pass-toggle-visibility #toggle matSuffix></mat-pass-toggle-visibility>
                  <input matInput #password [type]="toggle.type" required [formControl]="passwordComponent.passwordFormControl" placeholder="Contraseña" maxlength="30" />
                  <mat-hint align="end" aria-live="polite">
                    {{ password.value.length }} / {{ passwordComponent.max }}
                  </mat-hint>
                  <mat-error *ngIf="passwordComponent.passwordFormControl.hasError('required')">
                    La contraseña es requerida
                  </mat-error>
                </mat-form-field>
                <!--@angular-material-extensions/password-strength's main component-->
                <mat-password-strength #passwordComponent [max] = 30 [password]="password.value">
                </mat-password-strength>
                <!--Password's strength info-->
                <mat-password-strength-info lowerCaseCriteriaMsg="Contiene al menos un minúscula"
                  upperCaseCriteriaMsg="Contiene al menos una letra mayúscula"
                  digitsCriteriaMsg="Contiene al menos un número"
                  specialCharsCriteriaMsg="Contiene al menos un caracter especial"
                  minCharsCriteriaMsg="Contiene al menos 8 caracteres" [passwordComponent]="passwordComponent">
                </mat-password-strength-info>
              </div>

              <div fxFlex="100" fxFlex.gt-sm="100" class="px-1" ngClass.sm="mt-1" ngClass.xs="mt-1">
                <mat-form-field class="w-100">
                  <mat-pass-toggle-visibility #toggleConfirmPassword matSuffix></mat-pass-toggle-visibility>
                  <input matInput #passwordToConfirm [type]="toggleConfirmPassword.type" [formControl]="
                      passwordComponent.passwordConfirmationFormControl"
                     placeholder="Confirmar Contraseña" name="regpassword2" maxlength="30" />

                  <!-- password hint-->
                  <mat-hint align="end" aria-live="polite">
                    {{ passwordToConfirm.value.length }} /
                    {{ passwordComponent.max }}
                  </mat-hint>

                  <!-- password error msgs-->
                  <mat-error *ngIf="
                      passwordComponent.passwordConfirmationFormControl.hasError(
                        'required'
                      )
                    ">
                    La confirmacion de la contraseña es requerida
                  </mat-error>
                  <mat-error *ngIf="
                      passwordComponent.passwordConfirmationFormControl.hasError(
                        'notConfirmed'
                      )
                    ">
                    Las contraseñas no coinciden
                  </mat-error>
                </mat-form-field>
              </div>

              <!--///////////////////////////////////////////////////////////////////////////////////-->
              <!--///////////////////////////////////////////////////////////////////////////////////-->
              <!--///////////////////////////////////////////////////////////////////////////////////-->

              <div class="button-wrap" fxFlex="100" fxFlex.gt-sm="100" ngClass.sm="mt-1" ngClass.xs="mt-1">
                <button class="btn-project" mat-raised-button color="accent" type="submit">
                  Reestablecer Contraseña
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </mat-card>
  </div>
</div>